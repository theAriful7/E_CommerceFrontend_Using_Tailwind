<div class="min-h-screen bg-gray-50 py-8">
  <div class="max-w-2xl mx-auto px-4 sm:px-6 lg:px-8">
    
    <!-- Header -->
    <div class="mb-8">
      <h1 class="text-3xl font-bold text-gray-900">{{ title }}</h1>
      <p class="mt-2 text-sm text-gray-600">
        {{ isEditMode ? 'Update your subcategory information' : 'Create a new subcategory for your products' }}
      </p>
    </div>

    <!-- Loading State -->
    <div *ngIf="loading" class="flex justify-center items-center py-12">
      <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"></div>
    </div>

    <!-- Form -->
    <form *ngIf="!loading" [formGroup]="subcategoryForm" (ngSubmit)="onSubmit()" class="space-y-6">
      
      <!-- Category Selection -->
      <div>
        <label for="categoryId" class="block text-sm font-medium text-gray-700 mb-2">
          Parent Category *
        </label>
        <select
          id="categoryId"
          formControlName="categoryId"
          [class]="categoryId?.invalid && categoryId?.touched ? 
                  'border-red-300 focus:ring-red-500 focus:border-red-500' : 
                  'border-gray-300 focus:ring-purple-500 focus:border-purple-500'"
          class="mt-1 block w-full pl-3 pr-10 py-3 text-base border rounded-lg focus:outline-none sm:text-sm"
        >
          <option value="">Select a category</option>
          <option *ngFor="let category of categories" [value]="category.id">
            {{ category.name }}
          </option>
        </select>
        <div *ngIf="categoryId?.invalid && categoryId?.touched" class="mt-1 text-sm text-red-600">
          <span *ngIf="categoryId?.errors?.['required']">Please select a parent category</span>
        </div>
      </div>

      <!-- Name Field -->
      <div>
        <label for="name" class="block text-sm font-medium text-gray-700 mb-2">
          Subcategory Name *
        </label>
        <input
          type="text"
          id="name"
          formControlName="name"
          placeholder="Enter subcategory name"
          [class]="name?.invalid && name?.touched ? 
                  'border-red-300 focus:ring-red-500 focus:border-red-500' : 
                  'border-gray-300 focus:ring-purple-500 focus:border-purple-500'"
          class="mt-1 block w-full px-4 py-3 border rounded-lg shadow-sm focus:outline-none sm:text-sm"
        >
        <div *ngIf="name?.invalid && name?.touched" class="mt-1 text-sm text-red-600">
          <span *ngIf="name?.errors?.['required']">Subcategory name is required</span>
          <span *ngIf="name?.errors?.['minlength']">Name must be at least 2 characters long</span>
          <span *ngIf="name?.errors?.['maxlength']">Name cannot exceed 100 characters</span>
        </div>
      </div>

      <!-- Description Field -->
      <div>
        <label for="description" class="block text-sm font-medium text-gray-700 mb-2">
          Description
        </label>
        <textarea
          id="description"
          formControlName="description"
          rows="4"
          placeholder="Enter subcategory description (optional)"
          [class]="description?.invalid && description?.touched ? 
                  'border-red-300 focus:ring-red-500 focus:border-red-500' : 
                  'border-gray-300 focus:ring-purple-500 focus:border-purple-500'"
          class="mt-1 block w-full px-4 py-3 border rounded-lg shadow-sm focus:outline-none sm:text-sm"
        ></textarea>
        <div class="mt-1 text-sm text-gray-500">
          {{ description?.value?.length || 0 }}/500 characters
        </div>
        <div *ngIf="description?.invalid && description?.touched" class="mt-1 text-sm text-red-600">
          <span *ngIf="description?.errors?.['maxlength']">Description cannot exceed 500 characters</span>
        </div>
      </div>

      <!-- Action Buttons -->
      <div class="flex justify-end space-x-4 pt-6">
        <button
          type="button"
          (click)="onCancel()"
          class="px-6 py-3 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 transition-colors duration-200"
        >
          Cancel
        </button>
        <button
          type="submit"
          [disabled]="subcategoryForm.invalid || submitting"
          [class]="subcategoryForm.invalid || submitting ? 
                  'bg-gray-400 cursor-not-allowed' : 
                  'bg-purple-600 hover:bg-purple-700 focus:ring-purple-500'"
          class="px-6 py-3 border border-transparent rounded-lg text-sm font-medium text-white focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors duration-200"
        >
          {{ submitButtonText }}
        </button>
      </div>
    </form>
  </div>
</div>